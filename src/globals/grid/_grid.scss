$gutter-size: 10px;
$i: 0;

@mixin column-size($col-num) {
  flex-basis: (100% * $col-num / 12);
  max-width: (100% * $col-num / 12);
}

.bx--grid {
  margin: 0 3%;

  @include breakpoint('bp--xs--major') {
    margin: 0 5%;
  }
}

.bx--row {
  display: flex;
  flex-wrap: wrap;
  margin: 0 $gutter-size * -1;
}

[class*="bx--col"] {
  @include reset;
  padding: 0 $gutter-size;
  flex: 1;
  flex-basis: 100%;
}

@while $i <= 12 {
  @media (max-width: 720px) {
    .bx--col-xs-#{$i} {
      @include column-size($i);
    }
  }

  @media (min-width: 720px) and (max-width: 970px) {
    .bx--col-s-#{$i} {
      @include column-size($i);
    }
  }

  @media (min-width: 970px) and (max-width: 1170px) {
    .bx--col-md-#{$i} {
      @include column-size($i);
    }
  }

  @media (min-width: 1170px) {
    .bx--col-lg-#{$i} {
      @include column-size($i);
    }
  }

  $i: $i + 1;
}
