//
// Copyright IBM Corp. 2016, 2020
//
// This source code is licensed under the Apache-2.0 license found in the
// LICENSE file in the root directory of this source tree.
//

@import '../../globals/scss/vars';

/// Data table column resize styles
/// @access private
/// @group data-table
@mixin data-table-column-resize {
  //----------------------------------------------------------------------------
  // Column resize
  //----------------------------------------------------------------------------

  .#{$prefix}--data-table {
    th.#{$prefix}--table-header-resizable {
      padding-right: 0; /* resizer should appear at the very right */
      &:hover {
        background-color: $ui-04;
      }

      .#{$prefix}--table-header-resizable-container {
        width: 100%;
        display: flex;
        justify-content: space-between;
      }

      /* revert background styles for columns not being resized (to prevent hover styles) */
      &.#{$prefix}--table-header--resizing-passive {
        background-color: $ui-03 !important;
        .#{$prefix}--table-header-resizer {
          background-color: $ui-03 !important;
        }
      }
    }

    /* highlight resizer on header hover, on all but last header */
    th:not(:last-child) {
      &:hover {
        .#{$prefix}--table-header-resizer {
          background-color: $ui-05;
        }
      }

      /* resizer */
      .#{$prefix}--table-header-resizer {
        width: rem(4px);
        flex-shrink: 0;
        &:hover {
          background-color: $ui-05;
          cursor: col-resize;
        }
      }

      /* highlight active resizer and header background while resizing */
      &.#{$prefix}--table-header--resizing-active {
        background-color: $ui-04;
        .#{$prefix}--table-header-resizer {
          background-color: $ui-05;
        }
      }
    }
  }
}

@include exports('data-table-column-resize') {
  @include data-table-column-resize;
}
